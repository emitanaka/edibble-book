<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Chapter 3 The grammar of experimental designs | The Grammar of Experimental Designs</title>
<meta name="author" content="Emi Tanaka">
<meta name="description" content="Grammar makes language expressive. A language consisting of words and no grammar (statement = word) expresses only as many ideas as there are words. By specifying how words are combined in...">
<meta name="generator" content="bookdown 0.24 with bs4_book()">
<meta property="og:title" content="Chapter 3 The grammar of experimental designs | The Grammar of Experimental Designs">
<meta property="og:type" content="book">
<meta property="og:description" content="Grammar makes language expressive. A language consisting of words and no grammar (statement = word) expresses only as many ideas as there are words. By specifying how words are combined in...">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Chapter 3 The grammar of experimental designs | The Grammar of Experimental Designs">
<meta name="twitter:description" content="Grammar makes language expressive. A language consisting of words and no grammar (statement = word) expresses only as many ideas as there are words. By specifying how words are combined in...">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/header-attrs-2.11/header-attrs.js"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><link href="libs/_Fira%20Sans-0.4.0/font.css" rel="stylesheet">
<link href="libs/_Fira%20Mono-0.4.0/font.css" rel="stylesheet">
<link href="libs/_Alegreya-0.4.0/font.css" rel="stylesheet">
<script src="libs/bs3compat-0.3.1/transition.js"></script><script src="libs/bs3compat-0.3.1/tabs.js"></script><script src="libs/bs3compat-0.3.1/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS --><link rel="stylesheet" href="style.css">
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">The Grammar of Experimental Designs</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html">The Grammar of Experimental Designs</a></li>
<li><a class="" href="preface.html">Preface</a></li>
<li><a class="" href="basics.html"><span class="header-section-number">1</span> The basics of experimental designs</a></li>
<li><a class="" href="start.html"><span class="header-section-number">2</span> Getting started</a></li>
<li><a class="active" href="grammar.html"><span class="header-section-number">3</span> The grammar of experimental designs</a></li>
<li><a class="" href="people.html"><span class="header-section-number">4</span> Roles of people involved in the experiment</a></li>
<li><a class="" href="cookbook.html"><span class="header-section-number">5</span> Cookbook</a></li>
</ul>

        <div class="book-extra">
          <p><a id="book-repo" href="https://github.com/emitanaka/edibble-book">View book source <i class="fab fa-github"></i></a></p>
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="grammar" class="section level1" number="3">
<h1>
<span class="header-section-number">3</span> The grammar of experimental designs<a class="anchor" aria-label="anchor" href="#grammar"><i class="fas fa-link"></i></a>
</h1>
<div class="blockquote">
<p>Grammar makes language expressive. A language consisting of words and no grammar (statement = word) expresses only as many ideas as there are words. By specifying how words are combined in statements, a grammar expands a language’s scope.</p>
<p>– Wilkinson, 2005, The Grammar of Graphics, 2nd edition</p>
</div>
<p>Chapter <a href="basics.html#basics">1</a> described a number of basic terms and concepts in experimental designs. In this chapter, I dissect these basic terms in order to build the “grammar of experimental designs”.
The so-called grammar of experimental designs is a term that is heavily influenced by <span class="citation">Wilkinson (<a href="cookbook.html#ref-Wilkinson2005-oz" role="doc-biblioref">2005</a>)</span>, who use the term “grammar of graphics” to describe an object-oriented system to create unlimited number of plots from following a relatively small number of rules. The grammar of graphics is adopted across many systems (Julia, Python, R, Tableau and so on) with its most popular interpretation as the <code>ggplot2</code> R-package <span class="citation">(<a href="cookbook.html#ref-ggplot2" role="doc-biblioref">Wickham 2016</a>)</span>. An overview of <code>ggplot2</code> is given in Section <a href="#ggplot"><strong>??</strong></a>. The grammar of experimental designs leverage aspects of the grammar of graphics for the visualisation of the experimental designs as discussed more extensively in <a href="#deggust"><strong>??</strong></a>.</p>
<p>Henceforth, “grammar” refers to the grammar of experimental designs.</p>
<div id="fundamental-terminology" class="section level2" number="3.1">
<h2>
<span class="header-section-number">3.1</span> Fundamental terminology<a class="anchor" aria-label="anchor" href="#fundamental-terminology"><i class="fas fa-link"></i></a>
</h2>
<p>Section <a href="basics.html#terminology">1.1</a> describe the basic terminology used in the field of experimental design. We can, however, describe some terms more fundamentally by considering every categorised entity (physical or otherwise) involved in the experiment to be a <strong>factor</strong> in the design. The two primary roles of a factor are <strong>treatments</strong> and <strong>units</strong>; under this categorisation blocks, experimental unit and observational unit are all just units – the specific role of the unit is determined by the relationship of the factors. For example, if a treatment factor is allocated to a plot factor, then the plot is an experimental unit.</p>
<p>In the grammar, an intermediate construct of the experimental design is stored as an object that contain two types of directed graphs, <span class="math inline">\(G_F = (V(G_F), E(G_F))\)</span> and <span class="math inline">\(G_L = (V(G_L), E(G_L))\)</span>, where <span class="math inline">\(V(G_F)\)</span> and <span class="math inline">\(V(G_L)\)</span> are sets of vertices and <span class="math inline">\(E(G_F)\)</span> and <span class="math inline">\(E(G_L)\)</span> are sets of edges. We refer <span class="math inline">\(G_F\)</span> and <span class="math inline">\(G_L\)</span> as factor graph and level graph, respectively. In the <strong>factor graph</strong>, every factor is represented as a single vertex. Every factor has a finite number of levels and each of these levels is represented as a single vertex in the <strong>level graph</strong>.</p>
<div class="sourceCode" id="cb26"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">des</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://edibble.emitanaka.org/reference/start_design.html">start_design</a></span><span class="op">(</span><span class="st">"Split plot design"</span><span class="op">)</span> <span class="op"><a href="https://deggust.emitanaka.org/reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="https://edibble.emitanaka.org/reference/set_units.html">set_units</a></span><span class="op">(</span>mainplot <span class="op">=</span> <span class="fl">4</span>,
             subplot <span class="op">=</span> <span class="fu"><a href="https://edibble.emitanaka.org/reference/nested_in.html">nested_in</a></span><span class="op">(</span><span class="va">mainplot</span>, <span class="fl">4</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://deggust.emitanaka.org/reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="https://edibble.emitanaka.org/reference/set_trts.html">set_trts</a></span><span class="op">(</span>irrigation <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"rainfed"</span>, <span class="st">"irrigated"</span><span class="op">)</span>,
           fertilizer <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"brand-A"</span>, <span class="st">"brand-B"</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://deggust.emitanaka.org/reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="https://edibble.emitanaka.org/reference/allot_trts.html">allot_trts</a></span><span class="op">(</span><span class="va">irrigation</span> <span class="op">~</span> <span class="va">mainplot</span>,
             <span class="va">fertilizer</span> <span class="op">~</span> <span class="va">subplot</span><span class="op">)</span> <span class="op"><a href="https://deggust.emitanaka.org/reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="https://edibble.emitanaka.org/reference/assign_trts.html">assign_trts</a></span><span class="op">(</span><span class="st">"random"</span>, seed <span class="op">=</span> <span class="fl">592</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">des</span>, view <span class="op">=</span> <span class="st">"static"</span>, seed <span class="op">=</span> <span class="fl">3</span>, height <span class="op">=</span> <span class="st">"200px"</span>,
     title <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Factor graph for a split plot design"</span> <span class="op">=</span> <span class="st">"font-weight:bold;text-align:center;"</span><span class="op">)</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">des</span>, which <span class="op">=</span> <span class="st">"levels"</span>, view <span class="op">=</span> <span class="st">"static"</span>, height <span class="op">=</span> <span class="st">"400px"</span>, seed <span class="op">=</span> <span class="fl">1</span>,
     title <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Level graph for a split plot design"</span> <span class="op">=</span> <span class="st">"font-weight:bold;text-align:center;"</span><span class="op">)</span><span class="op">)</span></code></pre></div>

</div>
</div>
  <div class="chapter-nav">
<div class="prev"><a href="start.html"><span class="header-section-number">2</span> Getting started</a></div>
<div class="next"><a href="people.html"><span class="header-section-number">4</span> Roles of people involved in the experiment</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#grammar"><span class="header-section-number">3</span> The grammar of experimental designs</a></li>
<li><a class="nav-link" href="#fundamental-terminology"><span class="header-section-number">3.1</span> Fundamental terminology</a></li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
<li><a id="book-source" href="https://github.com/emitanaka/edibble-book/blob/main/docs/02-grammar.Rmd">View source <i class="fab fa-github"></i></a></li>
          <li><a id="book-edit" href="https://github.com/emitanaka/edibble-book/edit/main/docs/02-grammar.Rmd">Edit this page <i class="fab fa-github"></i></a></li>
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>The Grammar of Experimental Designs</strong>" was written by Emi Tanaka. It was last built on 2022-02-01.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script><script type="text/x-mathjax-config">const popovers = document.querySelectorAll('a.footnote-ref[data-toggle="popover"]');
for (let popover of popovers) {
  const div = document.createElement('div');
  div.setAttribute('style', 'position: absolute; top: 0, left:0; width:0, height:0, overflow: hidden; visibility: hidden;');
  div.innerHTML = popover.getAttribute('data-content');

  var has_math = div.querySelector("span.math");
  if (has_math) {
    document.body.appendChild(div);
    MathJax.Hub.Queue(["Typeset", MathJax.Hub, div]);
    MathJax.Hub.Queue(function() {
      popover.setAttribute('data-content', div.innerHTML);
      document.body.removeChild(div);
    })
  }
}
</script>
</body>
</html>
