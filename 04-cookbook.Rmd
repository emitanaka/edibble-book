# Cookbook {#cookbook}

```{r, include = FALSE}
set.seed(1)
```

::: {.blockquote}
Good design considers units and treatments first, and then allocates treatments to units. It does not choose from a menu of named designs. 

-- Bailey, 2008, Design of Comparative experiments
:::

You shouldn't simply select an experimental design from a list of named designs. Every experiment requires a tailored design to properly suit the situation. This concept isn't unique to just experimental designs; take architecture for example where near identical "cookie-cutter" homes get built on masses to make development cheaper but it comes at a detrimental cost when it's not fit for the landscape. There's an economical cost that perhaps drive the use of cookie-cutter homes, but what's the cost of using carefully tailored experimental designs? That you have to _think more about the experiment_? It's a small cost if you think about the consequences of an ill-designed experiment. And I'm no real estate expert, but I wouldn't invest in a cheap home that's cutting corners to the point that it may have defects. 

Named experimental design are handy in succinctly describing the experimental structure and treatment allotment to units, but you lose the direct association to the fundamental components that make up the experimental design. This can obscure seeing the association between different named experimental designs. The idea of the fundamental system in `edibble` is to encourage higher-order thinking from the user. 

The use of named experimental designs is an endemic -- it will continue to be prevalent in the field.  So a compromising approach is used in the `edibble` system. For every named experimental design presented, there will be a function prefixed by `menu_` that shows the recipe code in terms of the fundamental system. The user is supposed to copy-and-paste these code and modify the names of the units and treatments to their experimental context. You can choose to generate a design table using `takeout()`, but again I discourage you to use these approaches to generate a proper design. 

The following sections present a number of recipes for some well known named experimental designs. The ingredients for each recipe are described in fundamental system terms (see Section \@ref(grammar)). 

::: {.callout .note}

What are the differences between Latin square design, Graeco-Latin square design and Hyper-Graeco-Latin square design?

:::


## Completely randomised design 

A completely randomised design, commonly abbreviated as CRD, contain two factors: experimental units and treatments with a completely unstructured experiment (i.e. no grouping for the factors).

You can call on `menu_crd()` to see the code in the terms of the fundamental system. If you omit the argument values, then a random number will be selected for you.

```{r, comment = ""}
menu_crd(t = 5, n = 30, seed = 1)
```

If you want to generate the design table, then you can use the `takeout()` function parsing the named design object created by the set of `menu_` functions. 

Below we choose not to print any output.

```{r}
crd <- takeout(menu_crd(t = 5, n = 30, seed = 1))
```

You can quickly plot the design using the `autoplot()` in the `deggust` package. 

```{r autoplot-crd, fig.height = 4, fig.width = 5}
autoplot(crd)
```



## Randomised complete block design

```{r, comment = ""}
rcbd <- takeout(menu_rcbd(t = 6, r = 10))
examine_recipe(rcbd)
```

```{r autoplot-rcbd, fig.height = 6, fig.width = 6}
autoplot(rcbd)
```

## Latin square design

```{r, comment = ""}
lsd <- takeout(menu_lsd(t = 6))
examine_recipe(lsd)
```

```{r autoplot-lsd, fig.height = 6, fig.width = 6}
autoplot(lsd)
```

## Factorial design

```{r, comment = ""}
fac <- takeout(menu_factorial(trt = c(3, 2)))
examine_recipe(fac)
```

```{r autoplot-fac, fig.height = 6, fig.width = 6}
autoplot(fac)
```

## Balanced incomplete block design

```{r}
bibd <- takeout(menu_bibd(t = 5, r = 10, k = 4))
examine_recipe(bibd)
```
```{r autoplot-bibd, fig.height = 6, fig.width = 6}
autoplot(bibd)
```


## Split-plot design

```{r, comment = ""}
spd <- takeout(menu_split(t1 = 2, t2 = 4, r = 10))
examine_recipe(spd)
```

```{r autoplot-spd, fig.height = 6, fig.width = 6}
autoplot(spd)
```


## Graeco-Latin square design

```{r, comment = ""}
graeco <- takeout(menu_graeco(t = 9))
examine_recipe(graeco)
```

```{r autoplot-graeco, fig.height = 6, fig.width = 6}
autoplot(graeco)
```

## Hyper-Graeco-Latin square design

```{r, comment = ""}
hyper_graeco <- takeout(menu_hyper_graeco(t = 6))
examine_recipe(hyper_graeco)
```

```{r autoplot-hyper-graeco, fig.height = 6, fig.width = 6}
autoplot(hyper_graeco)
```

## Youden square design

```{r, comment = ""}
youden <- takeout(menu_youden(nc = 4, t = 5))
examine_recipe(youden)
```

```{r autoplot-youden}
autoplot(youden)
```

